<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="professional portfolio" />

  <title>Admin Page</title>

  <!-- JavaScript libraries-->
  <script src='node_modules/jquery/dist/jquery.min.js'></script>
  <script src='node_modules/moment/min/moment.min.js'></script>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Custom fonts for this template -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
    rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic"
    rel="stylesheet" type="text/css" />

  <!-- Plugin CSS -->
  <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet" />

  <!-- Custom styles for this template -->
  <link href="css/creative.min.css" rel="stylesheet" />
</head>

<body id="page-top">
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="index.html">All Kinds Hair Co.</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive"
        aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="about.html">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="services.html">Services</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="portfolio.html">Our Haircuts</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="appointment.html">Schedule an Appointment</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- Page Content -->
  <section class="bg-dark text-white">
    <h1 class="text-centered">Manage Appointments</h1>
  </section>
  <section class="bg-secondary">

    <div id="prime" class="container col-4">
    </div>





  </section>

  <Script>
    $.get("api/appointments").then(res => displayAppointments(res));

    function displayAppointment(appointmentsArray) {

      for (appointment in appointmentsArray) {

        var date = "comming soon";
        var name = appointment["title"];
        var startTime = appointment["start"];
        var endTime = appointment["end"];
        var haircut = appointment["haircut"];
        var additionalService = appointment["additionalService"];
        var appointmentDuration = appointment["appointmentDuration"];
        var dealsOrSpecial = appointment["dealsOrSpecial"];
        var key = appointment["key"];

        // Create div element, class card.
        var divCard = document.createElement("div");
        divCard.setAttribute("class", "card");

        // Create h5 element of class card-header.
        var h5 = document.createElement("h5");
        h5.setAttribute("class", "card-header");
        var txtH5 = document.createTextNode("Appointment: " + date);
        h5.appendChild(txtH5);

        // Create div element of class card-body.
        var divBody = document.createElement("div");
        divBody.setAttribute("class", "card-body");

        // Create p elements of class card-text.
        // name
        var pName = document.createElement("P");
        pName.setAttribute("class", "card-text");
        var txtName = document.createTextNode("Name: " + name);
        pName.appendChild(txtName);

        // Appointment time
        var pTime = document.createElement("P");
        pTime.setAttribute("class", "card-text");
        var txtTime = document.createTextNode("Appointment: " + startTime + " - " + endTime);
        pTime.appendChild(txtTime);

        //haircut and additional services
        var pService = document.createElement("P");
        pService.setAttribute("class", "card-text");
        var txtService = document.createTextNode("Service: " + haircut + " and " + additionalService);
        pService.appendChild(txtService);

        // dealsOrSpecials
        var pDealsOrSpecials = document.createElement("P");
        pDealsOrSpecials.setAttribute("class", "card-text");
        var txtDealsOrSpecials = document.createTextNode("Deal / Special: " + dealsOrSpecial);
        pDealsOrSpecials.appendChild(txtDealsOrSpecials);

        // hidden field for key 

        // create delete button
        var btnDelete = document.createElement("BUTTON");
        var txtLabel = document.createTextNode("Delete Appointment");
        btnDelete.setAttribute("class", "btn btn-primary")
        btnDelete.setAttribute("type", "button")
        btnDelete.setAttribute("onclick", "delete()")
        btnDelete.appendChild(txtLabel);

        // Compose card
        divBody.appendChild(pName);
        divBody.appendChild(pTime);
        divBody.appendChild(pService);
        divBody.appendChild(pDealsOrSpecials);
        divBody.appendChild(btnDelete);
        divCard.appendChild(divBody);

        // Add card to DOM
        document.getElementById("prime").appendChild(divCard);
      }
    }
  </Script>
</body>